{"remainingRequest":"/Users/xutingting06/pat/personal-space/node_modules/babel-loader/lib/index.js!/Users/xutingting06/pat/personal-space/node_modules/eslint-loader/index.js??ref--13-0!/Users/xutingting06/pat/personal-space/src/store/actions.js","dependencies":[{"path":"/Users/xutingting06/pat/personal-space/src/store/actions.js","mtime":1589714178811},{"path":"/Users/xutingting06/pat/personal-space/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xutingting06/pat/personal-space/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/xutingting06/pat/personal-space/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UiOwppbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuL211dGF0aW9uLXR5cGVzJzsKdmFyIHJlcVVybCA9IGxvY2F0aW9uLm9yaWdpbi5yZXBsYWNlKGxvY2F0aW9uLnBvcnQsICczMDAwJyk7CmV4cG9ydCBkZWZhdWx0IHsKICAvL+eZu+W9leWHveaVsAogIHNpZ25JbjogZnVuY3Rpb24gc2lnbkluKF9yZWYsIG9iaikgewogICAgdmFyIHN0YXRlID0gX3JlZi5zdGF0ZTsKICAgIHZhciAkdm0gPSBvYmpbJ2NvbnRleHQnXTsKICAgIHZhciBfZW1haWxQaG9uZSA9IHN0YXRlLmxvZ2luRm9ybS5lbWFpbFBob25lOwogICAgdmFyIF9wYXNzd29yZCA9IHN0YXRlLmxvZ2luRm9ybS5wYXNzd29yZDsKICAgIHZhciBpdGVtID0gewogICAgICBlcDogX2VtYWlsUGhvbmUsCiAgICAgIHB3OiBfcGFzc3dvcmQKICAgIH07CiAgICAkdm0uJGF4aW9zKHsKICAgICAgdXJsOiByZXFVcmwgKyAnL3VzZXJzL3VzZXInLAogICAgICBtZXRob2Q6ICdnZXQnLAogICAgICBwYXJhbXM6IGl0ZW0sCiAgICAgIHdpdGhDcmVkZW50aWFsczogdHJ1ZQogICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIC8vIOWkhOeQhuaIkOWKn+eahOe7k+aenAogICAgICBpZiAocmVzLmRhdGEuc3VjY2VzcykgewogICAgICAgICR2bS4kc3RvcmUuZGlzcGF0Y2goJ3VwZGF0ZVVzZXJJbmZvJywgcmVzLmRhdGEudXNlckluZm8pOwogICAgICAgICR2bS4kcm91dGVyLnB1c2goJy8nKTsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlcy5kYXRhLmVycm9yKTsKICAgICAgfQogICAgfSwgZnVuY3Rpb24gKHJlcykgewogICAgICAvLyDlpITnkIblpLHotKXnmoTnu5PmnpwKICAgICAgYWxlcnQocmVzKTsKICAgIH0pOwogIH0sCiAgLy/ms6jlhozlh73mlbAKICBzaWduVXA6IGZ1bmN0aW9uIHNpZ25VcChfcmVmMiwgb2JqKSB7CiAgICB2YXIgc3RhdGUgPSBfcmVmMi5zdGF0ZTsKICAgIHZhciAkdm0gPSBvYmpbJ2NvbnRleHQnXTsKICAgIHZhciBfbmFtZSA9IHN0YXRlLmxvZ2luRm9ybS5uYW1lOwogICAgdmFyIF9lbWFpbFBob25lID0gc3RhdGUubG9naW5Gb3JtLmVtYWlsUGhvbmU7CiAgICB2YXIgX3Bhc3N3b3JkID0gc3RhdGUubG9naW5Gb3JtLnBhc3N3b3JkOwogICAgdmFyIGl0ZW0gPSB7CiAgICAgIG46IF9uYW1lLAogICAgICBlcDogX2VtYWlsUGhvbmUsCiAgICAgIHB3OiBfcGFzc3dvcmQKICAgIH07CiAgICAkdm0uJGF4aW9zKHsKICAgICAgdXJsOiByZXFVcmwgKyAnL3VzZXJzL2luc2VydCcsCiAgICAgIG1ldGhvZDogJ2dldCcsCiAgICAgIHBhcmFtczogaXRlbSwKICAgICAgd2l0aENyZWRlbnRpYWxzOiB0cnVlCiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgLy8g5aSE55CG5oiQ5Yqf55qE57uT5p6cCiAgICAgIGlmIChyZXMuZGF0YS5zdWNjZXNzKSB7CiAgICAgICAgYWxlcnQoIuazqOWGjOaIkOWKn++8jOivt+eZu+W9le+8gSIpOwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzLmRhdGEuZXJyb3IpOwogICAgICB9CiAgICB9LCBmdW5jdGlvbiAocmVzKSB7CiAgICAgIC8vIOWkhOeQhuWksei0peeahOe7k+aenAogICAgICBhbGVydChyZXMpOwogICAgfSk7CiAgfSwKICAvL+abtOaUueeZu+W9leS/oeaBr+WHveaVsAogIGNoYW5nZVNpZ25JbmZvOiBmdW5jdGlvbiBjaGFuZ2VTaWduSW5mbyhfcmVmMywgdmFsdWUpIHsKICAgIHZhciBjb21taXQgPSBfcmVmMy5jb21taXQ7CiAgICBjb21taXQodHlwZXMuY2hhbmdlU2lnbmluZm8sIHZhbHVlKTsKICB9LAogIC8v5pu05pS555m75b2V5L+h5oGv5Ye95pWwCiAgdXBkYXRlVXNlckluZm86IGZ1bmN0aW9uIHVwZGF0ZVVzZXJJbmZvKF9yZWY0LCB2YWx1ZSkgewogICAgdmFyIGNvbW1pdCA9IF9yZWY0LmNvbW1pdDsKICAgIGNvbW1pdCh0eXBlcy51cGRhdGVVc2VySW5mbywgdmFsdWUpOwogIH0KfTs="},{"version":3,"sources":["/Users/xutingting06/pat/personal-space/src/store/actions.js"],"names":["types","reqUrl","location","origin","replace","port","signIn","obj","state","$vm","_emailPhone","loginForm","emailPhone","_password","password","item","ep","pw","$axios","url","method","params","withCredentials","then","res","data","success","$store","dispatch","userInfo","$router","push","Error","error","alert","signUp","_name","name","n","changeSignInfo","value","commit","changeSigninfo","updateUserInfo"],"mappings":"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","sourcesContent":["import * as types from './mutation-types'\nlet reqUrl = location.origin.replace(location.port, '3000');\n\nexport default {\n    //登录函数\n    signIn({ state }, obj) {\n        var $vm = obj['context'];\n        let _emailPhone = state.loginForm.emailPhone;\n        let _password = state.loginForm.password;\n        var item = {\n            ep: _emailPhone,\n            pw: _password\n        }\n        $vm.$axios({\n            url: reqUrl + '/users/user',\n            method: 'get',\n            params: item,\n            withCredentials: true\n        }).then(function (res) {\n            // 处理成功的结果\n            if (res.data.success) {\n                $vm.$store.dispatch('updateUserInfo', res.data.userInfo);\n                $vm.$router.push('/');\n                return;\n            }\n            else {\n                throw new Error(res.data.error);\n            }\n        },function (res) {\n            // 处理失败的结果\n            alert(res);\n        });\n    },\n    //注册函数\n    signUp({ state }, obj) {\n        var $vm = obj['context'];\n        let _name = state.loginForm.name;\n        let _emailPhone = state.loginForm.emailPhone;\n        let _password = state.loginForm.password;\n        var item = {\n            n:_name,\n            ep:_emailPhone,\n            pw:_password\n        };\n        $vm.$axios({\n            url: reqUrl + '/users/insert',\n            method: 'get',\n            params: item,\n            withCredentials: true\n        }).then(function (res) {\n            // 处理成功的结果\n            if (res.data.success) {\n                alert(\"注册成功，请登录！\");\n                return;\n            }\n            else {\n                throw new Error(res.data.error);\n            }\n        }, function (res) {\n            // 处理失败的结果\n            alert(res);\n        });\n    },\n    //更改登录信息函数\n    changeSignInfo({ commit }, value) {\n        commit(types.changeSigninfo, value);\n    },\n    //更改登录信息函数\n    updateUserInfo({ commit }, value) {\n        commit(types.updateUserInfo, value);\n    }\n}\n"]}]}