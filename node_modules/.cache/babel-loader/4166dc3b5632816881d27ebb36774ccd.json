{"remainingRequest":"/Users/xutingting06/pat/personal-space/node_modules/babel-loader/lib/index.js!/Users/xutingting06/pat/personal-space/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/xutingting06/pat/personal-space/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xutingting06/pat/personal-space/src/page/login/login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/xutingting06/pat/personal-space/src/page/login/login.vue","mtime":1589719013529},{"path":"/Users/xutingting06/pat/personal-space/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xutingting06/pat/personal-space/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/xutingting06/pat/personal-space/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xutingting06/pat/personal-space/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdsb2dpbicsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHZhciB2YWxpZGF0ZUVtYWlsUGhvbmUgPSBmdW5jdGlvbiB2YWxpZGF0ZUVtYWlsUGhvbmUocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSB7CiAgICAgIGlmICh2YWx1ZSA9PT0gJycpIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+ivt+i+k+WFpeaJi+acuuWPt+aIlumCrueusScpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgcmVnUGhvbmUgPSAvMVszLDQsNSw4XVxkezl9LzsKICAgICAgICB2YXIgcmVnRW1haWwgPSAvXltBLVphLXpcZF0rW0EtWmEtelxkLV9dKkBbQS1aYS16XGQtX10rKC5bQS1aYS16XGRdezIsNH0pJC87CgogICAgICAgIGlmICghKHJlZ1Bob25lLnRlc3QodmFsdWUpIHx8IHJlZ0VtYWlsLnRlc3QodmFsdWUpKSkgewogICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCfmiYvmnLrlj7fmiJbpgq7nrrHmoLzlvI/kuI3mraPnoa4nKSk7CiAgICAgICAgfQoKICAgICAgICBjYWxsYmFjaygpOwogICAgICB9CiAgICB9OwoKICAgIHJldHVybiB7CiAgICAgIHNpZ251cFJ1bGVzOiB7CiAgICAgICAgbmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+Whq+WGmeWnk+WQjScsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9LCB7CiAgICAgICAgICBtaW46IDMsCiAgICAgICAgICBtYXg6IDUsCiAgICAgICAgICBtZXNzYWdlOiAn6ZW/5bqm5ZyoIDMg5YiwIDUg5Liq5a2X56ymJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIGVtYWlsUGhvbmU6IFt7CiAgICAgICAgICB2YWxpZGF0b3I6IHZhbGlkYXRlRW1haWxQaG9uZSwKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIHBhc3N3b3JkOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+35aGr5YaZ5a+G56CBJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH0sIHsKICAgICAgICAgIG1pbjogNiwKICAgICAgICAgIG1heDogMTI4LAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpSA2IOWIsCAxMjgg5L2N55qE5a+G56CBJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIHNpZ25pblJ1bGVzOiB7CiAgICAgICAgZW1haWxQaG9uZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+Whq+WGmeaJi+acuuWPt+aIlumCrueusScsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBwYXNzd29yZDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+Whq+WGmeWvhueggScsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XQogICAgICB9LAogICAgICBzaWduaW46IHRydWUKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2dpbkluOiBmdW5jdGlvbiBsb2dpbkluKGZvcm1OYW1lKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiRyZWZzW2Zvcm1OYW1lXS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIC8vIOeZu+W9lQogICAgICAgICAgaWYgKGZvcm1OYW1lID09PSAnc2lnbmluRm9ybScpIHsKICAgICAgICAgICAgX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdzaWduSW4nLCB7CiAgICAgICAgICAgICAgJ2NvbnRleHQnOiBfdGhpcwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gLy8g5rOo5YaMCiAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3NpZ25VcCcsIHsKICAgICAgICAgICAgICAgICdjb250ZXh0JzogX3RoaXMKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBzaWduaW5mbzogZnVuY3Rpb24gc2lnbmluZm8oKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5zaWduaW5mbzsKICAgIH0sCiAgICBmb3JtOiBmdW5jdGlvbiBmb3JtKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUubG9naW5Gb3JtOwogICAgfSwKICAgIHVzZXJJbmZvOiBmdW5jdGlvbiB1c2VySW5mbygpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnVzZXJJbmZvOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgICckcm91dGUnOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIobmV3VmFsKSB7CiAgICAgICAgdGhpcy5zaWduaW4gPSBuZXdWYWwucGF0aCA9PT0gJy9zaWduaW4nID8gdHJ1ZSA6IGZhbHNlOwogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdjaGFuZ2VTaWduSW5mbycsIHRoaXMuc2lnbmluID8gJ+eZu+W9lScgOiAn5rOo5YaM55+l5LmOJyk7CiAgICAgIH0sCiAgICAgIGltbWVkaWF0ZTogdHJ1ZQogICAgfQogIH0KfTs="},{"version":3,"sources":["login.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class='login'>\n        <div class='index-main-body'>\n            <div class=\"index-header\">\n                <h1 class=\"logo\"></h1>\n                <h2 class=\"subtitle\">与世界分享你的知识、经验和见解</h2>\n            </div>\n            <div class=\"index-tab-navs\">\n                <div class=\"navs-slider\">\n                    <router-link :to=\"'signup'\" :class=\"{active: !signin}\">注册</router-link>\n                    <router-link :to=\"'signin'\" :class=\"{active: signin}\">登录</router-link>\n                    <span class=\"navs-slider-bar\"></span>\n                </div>\n            </div>\n            <el-form ref=\"signupForm\" :rules=\"signupRules\" :model=\"form\"  key='signupForm' v-if='!signin'>\n                <el-form-item prop=\"name\">\n                    <el-input v-model=\"form.name\" placeholder='姓名'></el-input>\n                </el-form-item>\n                <el-form-item prop=\"emailPhone\">\n                    <el-input v-model=\"form.emailPhone\" placeholder='手机号或邮箱'></el-input>\n                </el-form-item>\n                <el-form-item prop=\"password\">\n                    <el-input type='password' v-model=\"form.password\" placeholder='密码'></el-input>\n                </el-form-item>\n                <el-form-item>\n                    <el-button type=\"primary\" @click=\"loginIn('signupForm')\" style='width:100%;'>{{signinfo}}</el-button>\n                </el-form-item>\n            </el-form>\n            <el-form ref=\"signinForm\" :rules=\"signinRules\" :model=\"userInfo\" key='signinForm' v-else>\n                <el-form-item prop=\"emailPhone\">\n                    <el-input v-model=\"userInfo.emailPhone\" placeholder='手机号或邮箱'></el-input>\n                </el-form-item>\n                <el-form-item prop=\"password\">\n                    <el-input type='password' v-model=\"userInfo.password\" placeholder='密码'></el-input>\n                </el-form-item>\n                <el-form-item>\n                    <el-button type=\"primary\" @click=\"loginIn('signinForm')\" style='width:100%;'>登录</el-button>\n                </el-form-item>\n            </el-form>\n        </div>\n    </div>\n</template>\n<script>\n    export default {\n        name: 'login',\n        data() {\n            var validateEmailPhone = (rule, value, callback) => {\n                if (value === '') {\n                    callback(new Error('请输入手机号或邮箱'));\n                }\n                else {\n                    var regPhone=/1[3,4,5,8]\\d{9}/;\n                    var regEmail=/^[A-Za-z\\d]+[A-Za-z\\d-_]*@[A-Za-z\\d-_]+(.[A-Za-z\\d]{2,4})$/;\n                    if (!(regPhone.test(value)||regEmail.test(value))) {\n                        callback(new Error('手机号或邮箱格式不正确'));\n                    }\n                    callback();\n                }\n            };\n            return {\n                signupRules: {\n                    name: [{\n                        required: true,\n                        message: '请填写姓名',\n                        trigger: 'blur'\n                    }, {\n                        min: 3,\n                        max: 5,\n                        message: '长度在 3 到 5 个字符',\n                        trigger: 'blur'\n                    }],\n                    emailPhone: [{\n                        validator: validateEmailPhone,\n                        trigger: 'blur'\n                    }],\n                    password: [{\n                        required: true,\n                        message: '请填写密码',\n                        trigger: 'blur'\n                    }, {\n                        min: 6,\n                        max: 128,\n                        message: '请输入 6 到 128 位的密码',\n                        trigger: 'blur'\n                    }],\n                },\n                signinRules: {\n                    emailPhone: [{\n                        required: true,\n                        message: '请填写手机号或邮箱',\n                        trigger: 'blur'\n                    }],\n                    password: [{\n                        required: true,\n                        message: '请填写密码',\n                        trigger: 'blur'\n                    }],\n                },\n                signin: true\n            }\n        },\n        methods: {\n            loginIn(formName) {\n                this.$refs[formName].validate((valid) => {\n                    if (valid) {\n                        // 登录\n                        if (formName==='signinForm') {\n                            this.$store.dispatch('signIn', {\n                                'context': this\n                            });\n                        }\n                        // 注册\n                        else {\n                            this.$store.dispatch('signUp', {\n                                'context':this\n                            });\n                        }\n                    }\n                    else {\n                        return false;\n                    }\n                });\n            }\n        },\n        computed: {\n            signinfo() {\n                return this.$store.state.signinfo;\n            },\n            form() {\n                return this.$store.state.loginForm;\n            },\n            userInfo() {\n                return this.$store.state.userInfo;\n            }\n        },\n        watch: {\n            '$route': {\n                handler(newVal) {\n                    this.signin = newVal.path === '/signin' ? true : false;\n                    this.$store.dispatch('changeSignInfo', this.signin ? '登录' : '注册知乎');\n                },\n                immediate: true\n            }\n        }\n    }\n</script>\n<style type=\"less\" scoped>\n    .login {\n        margin-top: 60px;\n    }\n    .index-main-body {\n        margin: auto;\n        padding: 30px 0 102px;\n        width: 300px;\n    }\n    @media (min-width: 741px) {\n        .index-main-body {\n            padding: 0;\n            min-height: 590px;\n            display: inline-block;\n            vertical-align: middle;\n            text-align: left;\n            white-space: normal;\n        }\n    }\n    .index-header {\n        text-align: center;\n    }\n    .index-header .logo {\n        margin: 0 auto;\n        width: 160px;\n        height: 74px;\n        background: url(../../assets/logo.png) no-repeat;\n        background-size: contain;\n    }\n    @media (max-width: 740px) {\n        .index-header .logo {\n            width: 96px;\n            height: 44.4px;\n        }\n    }\n    .index-header .subtitle {\n        margin: 30px 0 20px;\n        font-weight: 400;\n        font-size: 18px;\n        line-height: 1;\n    }\n    .index-tab-navs {\n        margin-bottom: 10px;\n        font-size: 18px;\n        text-align: center;\n    }\n    .index-tab-navs>.navs-slider{\n        display: inline-block;\n    }\n    .index-tab-navs a {\n        float: left;\n        color: #555;\n        width: 4em;\n        line-height: 35px;\n        opacity: .7;\n        -ms-filter: \"alpha(Opacity=70)\";\n        -webkit-transition: opacity .15s,color .15s;\n        transition: opacity .15s,color .15s;\n        text-decoration: none;\n    }\n    .index-tab-navs .active {\n        opacity: 1;\n        -ms-filter: \"alpha(Opacity=100)\";\n        color: #0f88eb;\n    }\n</style>"],"sourceRoot":"src/page/login"}]}