{"remainingRequest":"/Users/xutingting06/pat/personal-space/node_modules/babel-loader/lib/index.js!/Users/xutingting06/pat/personal-space/src/store/actions.js","dependencies":[{"path":"/Users/xutingting06/pat/personal-space/src/store/actions.js","mtime":1589716715250},{"path":"/Users/xutingting06/pat/personal-space/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xutingting06/pat/personal-space/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UiOwppbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuL211dGF0aW9uLXR5cGVzJzsKdmFyIHJlcVVybCA9IGxvY2F0aW9uLm9yaWdpbi5yZXBsYWNlKGxvY2F0aW9uLnBvcnQsICczMDAwJyk7CmV4cG9ydCBkZWZhdWx0IHsKICAvL+eZu+W9leWHveaVsAogIHNpZ25JbjogZnVuY3Rpb24gc2lnbkluKF9yZWYsIG9iaikgewogICAgdmFyIHN0YXRlID0gX3JlZi5zdGF0ZTsKICAgIHZhciAkdm0gPSBvYmpbJ2NvbnRleHQnXTsKICAgIHZhciBfZW1haWxQaG9uZSA9IHN0YXRlLmxvZ2luRm9ybS5lbWFpbFBob25lOwogICAgdmFyIF9wYXNzd29yZCA9IHN0YXRlLmxvZ2luRm9ybS5wYXNzd29yZDsKICAgIHZhciBpdGVtID0gewogICAgICBlcDogX2VtYWlsUGhvbmUsCiAgICAgIHB3OiBfcGFzc3dvcmQKICAgIH07CiAgICAkdm0uJGF4aW9zKHsKICAgICAgdXJsOiByZXFVcmwgKyAnL3VzZXJzL3VzZXInLAogICAgICBtZXRob2Q6ICdnZXQnLAogICAgICBwYXJhbXM6IGl0ZW0sCiAgICAgIHdpdGhDcmVkZW50aWFsczogdHJ1ZQogICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIC8vIOWkhOeQhuaIkOWKn+eahOe7k+aenAogICAgICBpZiAocmVzLmRhdGEuc3VjY2VzcykgewogICAgICAgICR2bS4kc3RvcmUuZGlzcGF0Y2goJ3VwZGF0ZVVzZXJJbmZvJywgcmVzLmRhdGEudXNlckluZm8pOwogICAgICAgICR2bS4kcm91dGVyLnJlcGxhY2UoIi9ob21lIik7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgewogICAgICAgIHRocm93IG5ldyBFcnJvcihyZXMuZGF0YS5lcnJvcik7CiAgICAgIH0KICAgIH0sIGZ1bmN0aW9uIChyZXMpIHsKICAgICAgLy8g5aSE55CG5aSx6LSl55qE57uT5p6cCiAgICAgIGFsZXJ0KHJlcyk7CiAgICB9KTsKICB9LAogIC8v5rOo5YaM5Ye95pWwCiAgc2lnblVwOiBmdW5jdGlvbiBzaWduVXAoX3JlZjIsIG9iaikgewogICAgdmFyIHN0YXRlID0gX3JlZjIuc3RhdGU7CiAgICB2YXIgJHZtID0gb2JqWydjb250ZXh0J107CiAgICB2YXIgX25hbWUgPSBzdGF0ZS5sb2dpbkZvcm0ubmFtZTsKICAgIHZhciBfZW1haWxQaG9uZSA9IHN0YXRlLmxvZ2luRm9ybS5lbWFpbFBob25lOwogICAgdmFyIF9wYXNzd29yZCA9IHN0YXRlLmxvZ2luRm9ybS5wYXNzd29yZDsKICAgIHZhciBpdGVtID0gewogICAgICBuOiBfbmFtZSwKICAgICAgZXA6IF9lbWFpbFBob25lLAogICAgICBwdzogX3Bhc3N3b3JkCiAgICB9OwogICAgJHZtLiRheGlvcyh7CiAgICAgIHVybDogcmVxVXJsICsgJy91c2Vycy9pbnNlcnQnLAogICAgICBtZXRob2Q6ICdnZXQnLAogICAgICBwYXJhbXM6IGl0ZW0sCiAgICAgIHdpdGhDcmVkZW50aWFsczogdHJ1ZQogICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIC8vIOWkhOeQhuaIkOWKn+eahOe7k+aenAogICAgICBpZiAocmVzLmRhdGEuc3VjY2VzcykgewogICAgICAgIGFsZXJ0KCLms6jlhozmiJDlip/vvIzor7fnmbvlvZXvvIEiKTsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlcy5kYXRhLmVycm9yKTsKICAgICAgfQogICAgfSwgZnVuY3Rpb24gKHJlcykgewogICAgICAvLyDlpITnkIblpLHotKXnmoTnu5PmnpwKICAgICAgYWxlcnQocmVzKTsKICAgIH0pOwogIH0sCiAgLy/mm7TmlLnnmbvlvZXkv6Hmga/lh73mlbAKICBjaGFuZ2VTaWduSW5mbzogZnVuY3Rpb24gY2hhbmdlU2lnbkluZm8oX3JlZjMsIHZhbHVlKSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjMuY29tbWl0OwogICAgY29tbWl0KHR5cGVzLmNoYW5nZVNpZ25pbmZvLCB2YWx1ZSk7CiAgfSwKICAvL+abtOaUueeZu+W9leS/oeaBr+WHveaVsAogIHVwZGF0ZVVzZXJJbmZvOiBmdW5jdGlvbiB1cGRhdGVVc2VySW5mbyhfcmVmNCwgdmFsdWUpIHsKICAgIHZhciBjb21taXQgPSBfcmVmNC5jb21taXQ7CiAgICBjb21taXQodHlwZXMudXBkYXRlVXNlckluZm8sIHZhbHVlKTsKICB9Cn07"},{"version":3,"sources":["/Users/xutingting06/pat/personal-space/src/store/actions.js"],"names":["types","reqUrl","location","origin","replace","port","signIn","obj","state","$vm","_emailPhone","loginForm","emailPhone","_password","password","item","ep","pw","$axios","url","method","params","withCredentials","then","res","data","success","$store","dispatch","userInfo","$router","Error","error","alert","signUp","_name","name","n","changeSignInfo","value","commit","changeSigninfo","updateUserInfo"],"mappings":"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","sourcesContent":["import * as types from './mutation-types'\nlet reqUrl = location.origin.replace(location.port, '3000');\n\nexport default {\n    //登录函数\n    signIn({ state }, obj) {\n        var $vm = obj['context'];\n        let _emailPhone = state.loginForm.emailPhone;\n        let _password = state.loginForm.password;\n        var item = {\n            ep: _emailPhone,\n            pw: _password\n        }\n        $vm.$axios({\n            url: reqUrl + '/users/user',\n            method: 'get',\n            params: item,\n            withCredentials: true\n        }).then(function (res) {\n            // 处理成功的结果\n            if (res.data.success) {\n                $vm.$store.dispatch('updateUserInfo', res.data.userInfo);\n                $vm.$router.replace(\"/home\");\n                return;\n            }\n            else {\n                throw new Error(res.data.error);\n            }\n        },function (res) {\n            // 处理失败的结果\n            alert(res);\n        });\n    },\n    //注册函数\n    signUp({ state }, obj) {\n        var $vm = obj['context'];\n        let _name = state.loginForm.name;\n        let _emailPhone = state.loginForm.emailPhone;\n        let _password = state.loginForm.password;\n        var item = {\n            n:_name,\n            ep:_emailPhone,\n            pw:_password\n        };\n        $vm.$axios({\n            url: reqUrl + '/users/insert',\n            method: 'get',\n            params: item,\n            withCredentials: true\n        }).then(function (res) {\n            // 处理成功的结果\n            if (res.data.success) {\n                alert(\"注册成功，请登录！\");\n                return;\n            }\n            else {\n                throw new Error(res.data.error);\n            }\n        }, function (res) {\n            // 处理失败的结果\n            alert(res);\n        });\n    },\n    //更改登录信息函数\n    changeSignInfo({ commit }, value) {\n        commit(types.changeSigninfo, value);\n    },\n    //更改登录信息函数\n    updateUserInfo({ commit }, value) {\n        commit(types.updateUserInfo, value);\n    }\n}\n"]}]}