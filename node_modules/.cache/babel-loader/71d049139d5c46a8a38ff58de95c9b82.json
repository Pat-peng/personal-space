{"remainingRequest":"/Users/xutingting06/pat/personal-space/node_modules/babel-loader/lib/index.js!/Users/xutingting06/pat/personal-space/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/xutingting06/pat/personal-space/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xutingting06/pat/personal-space/src/page/home/AskQuestionModel.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/xutingting06/pat/personal-space/src/page/home/AskQuestionModel.vue","mtime":1542010227000},{"path":"/Users/xutingting06/pat/personal-space/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xutingting06/pat/personal-space/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/xutingting06/pat/personal-space/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xutingting06/pat/personal-space/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0iOwppbXBvcnQgX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIgZnJvbSAiL1VzZXJzL3h1dGluZ3RpbmcwNi9wYXQvcGVyc29uYWwtc3BhY2Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIiIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHZhciBxdWVzdGlvblJ1bGUgPSBmdW5jdGlvbiBxdWVzdGlvblJ1bGUocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSB7CiAgICAgIHZhciByZWcgPSAvW1w/77yfXSsvOwoKICAgICAgaWYgKCFyZWcudGVzdCh2YWx1ZSkpIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+S9oOi/mOayoeaciee7memXrumimOa3u+WKoOmXruWPtycpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjYWxsYmFjaygpOwogICAgICB9CiAgICB9OwoKICAgIHJldHVybiB7CiAgICAgIHJ1bGVGb3JtOiB7CiAgICAgICAgcXVlc3Rpb246ICIiCiAgICAgIH0sCiAgICAgIHRvcGljOiAiIiwKICAgICAgdG9waWNzOiBbewogICAgICAgIG5hbWU6ICLliY3nq6/lvIDlj5EiCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAidnVlLmpzIgogICAgICB9LCB7CiAgICAgICAgbmFtZTogIm5vZGUuanMiCiAgICAgIH1dLAogICAgICBmaWx0ZXJUb3BpY3M6IFt7CiAgICAgICAgbmFtZTogIuWJjeerr+W8gOWPkSIKICAgICAgfSwgewogICAgICAgIG5hbWU6ICJ2dWUuanMiCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAibm9kZS5qcyIKICAgICAgfV0sCiAgICAgIHJlbWFyazogIiIsCiAgICAgIGFub255bW91czogZmFsc2UsCiAgICAgIHF1ZXN0aW9uUnVsZXM6IHsKICAgICAgICBxdWVzdGlvbjogewogICAgICAgICAgdmFsaWRhdG9yOiBxdWVzdGlvblJ1bGUsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9CiAgICAgIH0KICAgIH07CiAgfSwKICBwcm9wczogewogICAgQXNrRGlhbG9nVmlzaWJsZTogewogICAgICB0eXBlOiBCb29sZWFuCiAgICB9CiAgfSwKICBjb21vcHV0ZWQ6IHsvLyBBc2tEaWFsb2dWaXNpYmxlOmZ1bmN0aW9uKCl7CiAgICAvLyAgICAgZGVidWdnZXIKICAgIC8vICAgICB0aGlzLmNsZWFyQXNrRGlhbG9nKCk7CiAgICAvLyAgICAgcmV0dXJuIHRoaXMuX3Byb3BzLkFza0RpYWxvZ1Zpc2libGU7CiAgICAvLyB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAvL+aPkOmXrueql+WPo+eahOWFs+mXrQogICAgQXNrRGlhbG9nQ2xvc2U6IGZ1bmN0aW9uIEFza0RpYWxvZ0Nsb3NlKCkgewogICAgICB0aGlzLiRlbWl0KCdjbG9zZUFza01vZGVsJyk7CiAgICB9LAogICAgLy/mt7vliqDkuIDmnaHor53popjorrDlvZUKICAgIGFkZFRvcGljOiBmdW5jdGlvbiBhZGRUb3BpYyhxdWVzdGlvbikgewogICAgICB0aGlzLiRlbWl0KCdhZGRUb3BpYycsIHF1ZXN0aW9uKTsKICAgIH0sCiAgICAvL+a4heepuuaPkOmXrueql+WPowogICAgY2xlYXJBc2tEaWFsb2c6IGZ1bmN0aW9uIGNsZWFyQXNrRGlhbG9nKCkgewogICAgICB0aGlzLnJ1bGVGb3JtLnF1ZXN0aW9uID0gJyc7CiAgICAgIHRoaXMudG9waWMgPSAnJzsKICAgICAgdGhpcy5yZW1hcmsgPSAnJzsKICAgICAgdGhpcy5hbm9ueW1vdXMgPSBmYWxzZTsKICAgIH0sCiAgICAvL+mAieS4reivnemimAogICAgc2VsZWN0VG9waWM6IGZ1bmN0aW9uIHNlbGVjdFRvcGljKGNvbW1hbmQpIHsKICAgICAgdGhpcy50b3BpYyA9IGNvbW1hbmQ7CiAgICB9LAogICAgLy/or53popjov4fmu6QKICAgIHRvcGljc0ZpbHRlcjogZnVuY3Rpb24gdG9waWNzRmlsdGVyKCkgewogICAgICB2YXIgdmFsdWUgPSB0aGlzLnRvcGljLnRyaW0oKTsKCiAgICAgIGlmICh2YWx1ZSA9PT0gJycpIHsKICAgICAgICB0aGlzLmZpbHRlclRvcGljcyA9IHRoaXMudG9waWNzOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciB0b3BpY3MgPSB0aGlzLnRvcGljczsKICAgICAgICB2YXIgbmV3VG9waWNzID0gW107CgogICAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih0b3BpY3MpLAogICAgICAgICAgICBfc3RlcDsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgIHZhciB0b3BpYyA9IF9zdGVwLnZhbHVlOwoKICAgICAgICAgICAgaWYgKHRvcGljLm5hbWUuaW5kZXhPZih2YWx1ZSkgIT0gLTEpIHsKICAgICAgICAgICAgICBuZXdUb3BpY3MucHVzaCh0b3BpYyk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgICAgfQoKICAgICAgICB0aGlzLmZpbHRlclRvcGljcyA9IG5ld1RvcGljczsKICAgICAgfQogICAgfSwKICAgIC8v5Yib5bu66Zeu6aKYCiAgICBjcmVhdGVRdWVzdGlvbjogZnVuY3Rpb24gY3JlYXRlUXVlc3Rpb24oKSB7CiAgICAgIHZhciBpdGVtID0gewogICAgICAgIHRpdGxlOiB0aGlzLnJ1bGVGb3JtLnF1ZXN0aW9uLAogICAgICAgIHRvcGljczogdGhpcy50b3BpYywKICAgICAgICBjb250ZW50OiB0aGlzLnJlbWFyaywKICAgICAgICBpc0Fub255bW91czogdGhpcy5hbm9ueW1vdXMsCiAgICAgICAgdXNlcklkOiB0aGlzLiRyb290LiRjaGlsZHJlblswXS51c2VySW5mby5lbWFpbFBob25lCiAgICAgIH07CiAgICAgIHRoaXMuJGh0dHAucG9zdCgnL3NlcnZlci9xdWVzdGlvbnMvaW5zZXJ0JywgaXRlbSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgLy8g5aSE55CG5oiQ5Yqf55qE57uT5p6cCiAgICAgICAgaWYgKHJlcy5kYXRhLnN1Y2Nlc3MpIHsKICAgICAgICAgIGFsZXJ0KCLpl67popjmj5DkuqTmiJDlip/vvIEiKTsKICAgICAgICAgIHRoaXMuQXNrRGlhbG9nQ2xvc2UoKTsKICAgICAgICAgIHRoaXMuYWRkVG9waWMocmVzLmRhdGEucXVlc3Rpb24pOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhbGVydChyZXMuZGF0YS5lcnJvcik7CiAgICAgICAgfQogICAgICB9LCBmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgLy8g5aSE55CG5aSx6LSl55qE57uT5p6cCiAgICAgICAgYWxlcnQocmVzLmRhdGEpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["AskQuestionModel.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <el-dialog id='askQuestion' :before-close=\"AskDialogClose\" :visible.sync=\"AskDialogVisible\">\n        <h2>写下你的问题</h2>\n        <div class=\"title1\">\n            <span>\n                描述精确的问题更易得到解答\n            </span>\n        </div>\n        <el-form ref='questionForm' :rules=\"questionRules\" :model=\"ruleForm\">\n            <el-form-item prop=\"question\">\n                <el-input type=\"textarea\" :rows=\"2\" placeholder=\"请输入问题\" v-model=\"ruleForm.question\">\n                </el-input>\n            </el-form-item>\n            <el-dropdown @command=\"selectTopic\" trigger='click'>\n                <el-input placeholder=\"添加话题\" @input=\"topicsFilter\" icon=\"search\" v-model=\"topic\">\n                </el-input>\n                <el-dropdown-menu class='askquestion' slot=\"dropdown\">\n                    <el-dropdown-item  v-for=\"topic in filterTopics\" :command=\"topic.name\">{{topic.name}}</el-dropdown-item>\n                </el-dropdown-menu>\n            </el-dropdown>\n            <div>\n                <div class=\"remark_toolbar\">问题描述（可选）：</div>\n                <div class=\"DraftEditor-root\">\n                    <el-input type=\"textarea\" placeholder='问题背景、条件等详细信息' :rows=\"4\" v-model=\"remark\">\n                    </el-input>\n                </div>\n            </div>\n            <div class=\"anonymous\">\n                <el-checkbox v-model=\"anonymous\">匿名提问</el-checkbox>\n            </div>\n            <el-button @click='createQuestion' type=\"primary\">提交问题</el-button>\n        </el-form>\n    </el-dialog>\n</template>\n<script>\n    export default{\n        name:\"\",\n        data(){\n            var questionRule=(rule, value, callback) => {\n                var reg=/[\\?？]+/;\n                if (!reg.test(value)) {\n                  callback(new Error('你还没有给问题添加问号'));\n              } else {\n                  callback();\n              }\n          };\n          return{\n            ruleForm:{\n                question:\"\"\n            },\n            topic:\"\",\n            topics:[{\n                name:\"前端开发\"\n            },{\n                name:\"vue.js\"\n            },{\n                name:\"node.js\"\n            }],\n            filterTopics:[{\n                name:\"前端开发\"\n            },{\n                name:\"vue.js\"\n            },{\n                name:\"node.js\"\n            }],\n            remark:\"\",\n            anonymous:false,\n            questionRules:{\n                question:{ validator: questionRule, trigger: 'blur' }\n            }\n        }\n    },\n    props:{\n        AskDialogVisible: {\n           type: Boolean\n        }\n    },\n    comoputed:{\n        // AskDialogVisible:function(){\n        //     debugger\n        //     this.clearAskDialog();\n        //     return this._props.AskDialogVisible;\n        // }\n    },\n    methods:{\n        //提问窗口的关闭\n        AskDialogClose:function(){\n            this.$emit('closeAskModel')\n        },\n        //添加一条话题记录\n        addTopic:function(question){\n            this.$emit('addTopic',question)\n        },\n        //清空提问窗口\n        clearAskDialog:function(){\n            this.ruleForm.question='';\n            this.topic='';\n            this.remark='';\n            this.anonymous=false;\n        },\n        //选中话题\n        selectTopic:function(command){\n            this.topic=command;\n        },\n        //话题过滤\n        topicsFilter:function(){\n            var value=this.topic.trim();\n            if (value==='') {\n                this.filterTopics=this.topics;\n            }\n            else{\n                var topics=this.topics;\n                var newTopics=[];\n                for(let topic of topics){\n                    if (topic.name.indexOf(value)!=-1) {\n                        newTopics.push(topic);\n                    }\n                }\n                this.filterTopics=newTopics;\n            }\n        },\n        //创建问题\n        createQuestion:function(){\n            var item={ title: this.ruleForm.question,\n             topics: this.topic,\n             content: this.remark,\n             isAnonymous:this.anonymous,\n             userId:this.$root.$children[0].userInfo.emailPhone\n         };\n         this.$http.post('/server/questions/insert',item).then(\n            function (res) {\n                      // 处理成功的结果\n                      if (res.data.success) {\n                        alert(\"问题提交成功！\");\n                        this.AskDialogClose();\n                        this.addTopic(res.data.question);\n                        return;\n                    }\n                    else{\n                        alert(res.data.error);\n                    }\n                },function (res) {\n                  // 处理失败的结果\n                  alert(res.data);\n              }\n              );\n     }\n }\n}\n</script>\n<style lang='scss' scoped>\n    .el-dialog{\n        text-align: center;\n        .title1{\n            span{\n                color: #8590a6;\n            }\n        }\n        .remark_toolbar{\n            text-align: left;\n        }\n        .anonymous{\n            text-align: left;\n        }\n        .el-dropdown{\n            width: 100%;            \n        }\n        .el-form > div{\n            margin-top: 20px;\n            .el-form-item__error{\n                right: 0;\n                left: auto;\n            }\n        }\n    }\n    .el-dropdown-menu.askquestion{\n       width: calc(50% - 50px);\n   }\n</style>"],"sourceRoot":"src/page/home"}]}