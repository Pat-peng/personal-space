{"remainingRequest":"/Users/xutingting06/pat/personal-space/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xutingting06/pat/personal-space/src/page/login/login.vue?vue&type=style&index=0&id=79d5601c&scoped=true&lang=css&","dependencies":[{"path":"/Users/xutingting06/pat/personal-space/src/page/login/login.vue","mtime":1589718987719},{"path":"/Users/xutingting06/pat/personal-space/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xutingting06/pat/personal-space/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/xutingting06/pat/personal-space/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/xutingting06/pat/personal-space/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xutingting06/pat/personal-space/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmxvZ2luIHsKICAgIG1hcmdpbi10b3A6IDYwcHg7Cn0KLmluZGV4LW1haW4tYm9keSB7CiAgICBtYXJnaW46IGF1dG87CiAgICBwYWRkaW5nOiAzMHB4IDAgMTAycHg7CiAgICB3aWR0aDogMzAwcHg7Cn0KQG1lZGlhIChtaW4td2lkdGg6IDc0MXB4KSB7CiAgICAuaW5kZXgtbWFpbi1ib2R5IHsKICAgICAgICBwYWRkaW5nOiAwOwogICAgICAgIG1pbi1oZWlnaHQ6IDU5MHB4OwogICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgICAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOwogICAgICAgIHRleHQtYWxpZ246IGxlZnQ7CiAgICAgICAgd2hpdGUtc3BhY2U6IG5vcm1hbDsKICAgIH0KfQouaW5kZXgtaGVhZGVyIHsKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKfQouaW5kZXgtaGVhZGVyIC5sb2dvIHsKICAgIG1hcmdpbjogMCBhdXRvOwogICAgd2lkdGg6IDgwcHg7CiAgICBoZWlnaHQ6IDc0cHg7CiAgICBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vYXNzZXRzL2xvZ28ucG5nKSBuby1yZXBlYXQ7CiAgICBiYWNrZ3JvdW5kLXNpemU6IGNvbnRhaW47Cn0KLmluZGV4LWhlYWRlciAuc3VidGl0bGUgewogICAgbWFyZ2luOiAzMHB4IDAgMjBweDsKICAgIGZvbnQtd2VpZ2h0OiA0MDA7CiAgICBmb250LXNpemU6IDE4cHg7CiAgICBsaW5lLWhlaWdodDogMTsKfQouaW5kZXgtdGFiLW5hdnMgewogICAgbWFyZ2luLWJvdHRvbTogMTBweDsKICAgIGZvbnQtc2l6ZTogMThweDsKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKfQouaW5kZXgtdGFiLW5hdnM+Lm5hdnMtc2xpZGVyewogICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwp9Ci5pbmRleC10YWItbmF2cyBhIHsKICAgIGZsb2F0OiBsZWZ0OwogICAgY29sb3I6ICM1NTU7CiAgICB3aWR0aDogNGVtOwogICAgbGluZS1oZWlnaHQ6IDM1cHg7CiAgICBvcGFjaXR5OiAuNzsKICAgIC1tcy1maWx0ZXI6ICJhbHBoYShPcGFjaXR5PTcwKSI7CiAgICAtd2Via2l0LXRyYW5zaXRpb246IG9wYWNpdHkgLjE1cyxjb2xvciAuMTVzOwogICAgdHJhbnNpdGlvbjogb3BhY2l0eSAuMTVzLGNvbG9yIC4xNXM7CiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7Cn0KLmluZGV4LXRhYi1uYXZzIC5hY3RpdmUgewogICAgb3BhY2l0eTogMTsKICAgIC1tcy1maWx0ZXI6ICJhbHBoYShPcGFjaXR5PTEwMCkiOwogICAgY29sb3I6ICMwZjg4ZWI7Cn0K"},{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"login.vue","sourceRoot":"src/page/login","sourcesContent":["<template>\n    <div class='login'>\n        <div class='index-main-body'>\n            <div class=\"index-header\">\n                <h1 class=\"logo\"></h1>\n                <h2 class=\"subtitle\">与世界分享你的知识、经验和见解</h2>\n            </div>\n            <div class=\"index-tab-navs\">\n                <div class=\"navs-slider\">\n                    <router-link :to=\"'signup'\" :class=\"{active: !signin}\">注册</router-link>\n                    <router-link :to=\"'signin'\" :class=\"{active: signin}\">登录</router-link>\n                    <span class=\"navs-slider-bar\"></span>\n                </div>\n            </div>\n            <el-form ref=\"signupForm\" :rules=\"signupRules\" :model=\"form\"  key='signupForm' v-if='!signin'>\n                <el-form-item prop=\"name\">\n                    <el-input v-model=\"form.name\" placeholder='姓名'></el-input>\n                </el-form-item>\n                <el-form-item prop=\"emailPhone\">\n                    <el-input v-model=\"form.emailPhone\" placeholder='手机号或邮箱'></el-input>\n                </el-form-item>\n                <el-form-item prop=\"password\">\n                    <el-input type='password' v-model=\"form.password\" placeholder='密码'></el-input>\n                </el-form-item>\n                <el-form-item>\n                    <el-button type=\"primary\" @click=\"loginIn('signupForm')\" style='width:100%;'>{{signinfo}}</el-button>\n                </el-form-item>\n            </el-form>\n            <el-form ref=\"signinForm\" :rules=\"signinRules\" :model=\"userInfo\" key='signinForm' v-else>\n                <el-form-item prop=\"emailPhone\">\n                    <el-input v-model=\"userInfo.emailPhone\" placeholder='手机号或邮箱'></el-input>\n                </el-form-item>\n                <el-form-item prop=\"password\">\n                    <el-input type='password' v-model=\"userInfo.password\" placeholder='密码'></el-input>\n                </el-form-item>\n                <el-form-item>\n                    <el-button type=\"primary\" @click=\"loginIn('signinForm')\" style='width:100%;'>登录</el-button>\n                </el-form-item>\n            </el-form>\n        </div>\n    </div>\n</template>\n<script>\n    export default {\n        name: 'login',\n        data() {\n            var validateEmailPhone = (rule, value, callback) => {\n                if (value === '') {\n                    callback(new Error('请输入手机号或邮箱'));\n                }\n                else {\n                    var regPhone=/1[3,4,5,8]\\d{9}/;\n                    var regEmail=/^[A-Za-z\\d]+[A-Za-z\\d-_]*@[A-Za-z\\d-_]+(.[A-Za-z\\d]{2,4})$/;\n                    if (!(regPhone.test(value)||regEmail.test(value))) {\n                        callback(new Error('手机号或邮箱格式不正确'));\n                    }\n                    callback();\n                }\n            };\n            return {\n                signupRules: {\n                    name: [{\n                        required: true,\n                        message: '请填写姓名',\n                        trigger: 'blur'\n                    }, {\n                        min: 3,\n                        max: 5,\n                        message: '长度在 3 到 5 个字符',\n                        trigger: 'blur'\n                    }],\n                    emailPhone: [{\n                        validator: validateEmailPhone,\n                        trigger: 'blur'\n                    }],\n                    password: [{\n                        required: true,\n                        message: '请填写密码',\n                        trigger: 'blur'\n                    }, {\n                        min: 6,\n                        max: 128,\n                        message: '请输入 6 到 128 位的密码',\n                        trigger: 'blur'\n                    }],\n                },\n                signinRules: {\n                    emailPhone: [{\n                        required: true,\n                        message: '请填写手机号或邮箱',\n                        trigger: 'blur'\n                    }],\n                    password: [{\n                        required: true,\n                        message: '请填写密码',\n                        trigger: 'blur'\n                    }],\n                },\n                signin: true\n            }\n        },\n        methods: {\n            loginIn(formName) {\n                this.$refs[formName].validate((valid) => {\n                    if (valid) {\n                        // 登录\n                        if (formName==='signinForm') {\n                            this.$store.dispatch('signIn', {\n                                'context': this\n                            });\n                        }\n                        // 注册\n                        else {\n                            this.$store.dispatch('signUp', {\n                                'context':this\n                            });\n                        }\n                    }\n                    else {\n                        return false;\n                    }\n                });\n            }\n        },\n        computed: {\n            signinfo() {\n                return this.$store.state.signinfo;\n            },\n            form() {\n                return this.$store.state.loginForm;\n            },\n            userInfo() {\n                return this.$store.state.userInfo;\n            }\n        },\n        watch: {\n            '$route': {\n                handler(newVal) {\n                    this.signin = newVal.path === '/signin' ? true : false;\n                    this.$store.dispatch('changeSignInfo', this.signin ? '登录' : '注册知乎');\n                },\n                immediate: true\n            }\n        }\n    }\n</script>\n<style type=\"less\" scoped>\n    .login {\n        margin-top: 60px;\n    }\n    .index-main-body {\n        margin: auto;\n        padding: 30px 0 102px;\n        width: 300px;\n    }\n    @media (min-width: 741px) {\n        .index-main-body {\n            padding: 0;\n            min-height: 590px;\n            display: inline-block;\n            vertical-align: middle;\n            text-align: left;\n            white-space: normal;\n        }\n    }\n    .index-header {\n        text-align: center;\n    }\n    .index-header .logo {\n        margin: 0 auto;\n        width: 80px;\n        height: 74px;\n        background: url(../../assets/logo.png) no-repeat;\n        background-size: contain;\n    }\n    .index-header .subtitle {\n        margin: 30px 0 20px;\n        font-weight: 400;\n        font-size: 18px;\n        line-height: 1;\n    }\n    .index-tab-navs {\n        margin-bottom: 10px;\n        font-size: 18px;\n        text-align: center;\n    }\n    .index-tab-navs>.navs-slider{\n        display: inline-block;\n    }\n    .index-tab-navs a {\n        float: left;\n        color: #555;\n        width: 4em;\n        line-height: 35px;\n        opacity: .7;\n        -ms-filter: \"alpha(Opacity=70)\";\n        -webkit-transition: opacity .15s,color .15s;\n        transition: opacity .15s,color .15s;\n        text-decoration: none;\n    }\n    .index-tab-navs .active {\n        opacity: 1;\n        -ms-filter: \"alpha(Opacity=100)\";\n        color: #0f88eb;\n    }\n</style>"]}]}